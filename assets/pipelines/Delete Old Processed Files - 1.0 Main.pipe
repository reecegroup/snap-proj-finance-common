{"asset_type":"Pipeline","path":"/Reece-Dev/-Finance/Common/Delete Old Processed Files - 1.0 Main","name":"Delete Old Processed Files - 1.0 Main","owner":"snaplogic.support@reece.com.au","time_updated":"2023-01-17T10:44:26.553000","property_map":{"info":{"notes":{"value":null},"label":{},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"author":{"value":"bhavana.sutapalli@reece.com.au"}},"settings":{"imports":{"value":[]},"error_param_table":{"value":[]},"param_table":{"value":[{"capture":{"value":false},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"Finance-AU-Fixed-Assets"},"key":{"value":"parameter"}},{"capture":{"value":false},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"true"},"key":{"value":"error_dir"}}]},"error_pipeline":{"expression":false,"value":null}},"error":{"error_behavior":{"value":"none"}},"input":{},"output":{"11111111-1111-1111-1111-000000000004_output0":{"view_type":{"value":"document"},"label":{"value":"Pipeline Execute - output0"}},"11111111-1111-1111-1111-000000000005_output0":{"view_type":{"value":"document"},"label":{"value":"Pipeline Execute - output0"}}}},"render_map":{"pan_x_num":0,"notes":{"c71067be-ebaf-4133-8e32-afd5dea4b3b4":{"creator":"Bhavana Sutapalli","created":"2022-12-16T10:14:21.710Z","height":"122px","content":"This integration deletes old finance files from asset, journal and fleet processed folders\n\nparameterSet  for:\n\nfleet : Finance-Vehicles-Fleet\n\njournal : Finance-Manual-Journals\n\nAssets - Finance-AU-Fixed-Assets","width":"233px","y":10.339267575747437,"x":426.96261066522413}},"scale_ratio":1,"pan_y_num":0,"detail_map":{"11111111-1111-1111-1111-000000000005":{"grid_x_int":5,"index":null,"recommendation_id":null,"source":"","grid_y_int":4,"rot_tail_int":0,"error":{"error0":{"dx_int":0,"rot_int":0,"dy_int":-1}},"rot_int":0,"input":{},"output":{}},"11111111-1111-1111-1111-000000000006":{"grid_x_int":8,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":3,"rot_tail_int":0,"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}},"output":{},"rot_int":0,"error":{}},"11111111-1111-1111-1111-000000000002":{"grid_x_int":4,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":2,"rot_tail_int":0,"rot_int":0,"input":{},"output":{},"error":{}},"11111111-1111-1111-1111-000000000003":{"grid_x_int":4,"index":null,"recommendation_id":null,"source":"","grid_y_int":3,"rot_tail_int":0,"rot_int":0,"input":{},"output":{},"error":{}},"11111111-1111-1111-1111-000000000007":{"grid_x_int":9,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":3,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"11111111-1111-1111-1111-000000000000":{"grid_x_int":2,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":2,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"11111111-1111-1111-1111-000000000001":{"grid_x_int":3,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":2,"rot_tail_int":0,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}},"rot_int":0,"input":{},"error":{}},"11111111-1111-1111-1111-000000000008":{"grid_x_int":10,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":3,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"11111111-1111-1111-1111-000000000004":{"grid_x_int":5,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":2,"rot_tail_int":0,"error":{"error0":{"dx_int":0,"rot_int":0,"dy_int":-1}},"rot_int":0,"input":{},"output":{}}},"default_snaplex":null},"class_id":"com-snaplogic-pipeline","class_version":9,"snap_map":{"11111111-1111-1111-1111-000000000005":{"class_id":"com-snaplogic-snaps-flow-pipeexec","instance_id":"11111111-1111-1111-1111-000000000005","property_map":{"info":{"notes":{},"label":{"value":"Pipeline Execute"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"retryInterval":{"expression":false,"value":null},"retryLimit":{"expression":false,"value":null},"pipeline":{"expression":false,"value":"Delete Old Processed Files - 1.1 common"},"reuse":{"value":false},"batchSize":{"value":1},"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":true},"poolSize":{"expression":false,"value":1},"loopDocument":{"expression":true},"execLabel":{"expression":true,"value":"'Error Directory Execution'"},"params":{"value":[{"paramValue":{"expression":true,"value":"$smbAccount"},"paramName":{"value":"account"}}]},"timeout":{"expression":false,"value":null},"snaplex":{"expression":false},"snaplexGovernor":{"value":"LOCAL_NODE"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"continue"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1},"11111111-1111-1111-1111-000000000004":{"instance_id":"11111111-1111-1111-1111-000000000004","class_id":"com-snaplogic-snaps-flow-pipeexec","property_map":{"info":{"notes":{},"label":{"value":"Pipeline Execute"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"retryInterval":{"expression":false,"value":null},"retryLimit":{"expression":false,"value":null},"pipeline":{"expression":false,"value":"Delete Old Processed Files - 1.1 common"},"reuse":{"value":false},"batchSize":{"value":1},"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":true},"poolSize":{"expression":false,"value":1},"loopDocument":{"expression":true},"execLabel":{"expression":true,"value":"'Processed Directory Execution'"},"params":{"value":[{"paramValue":{"expression":true,"value":"$smbAccount"},"paramName":{"value":"account"}}]},"timeout":{"expression":false,"value":null},"snaplex":{"expression":false},"snaplexGovernor":{"value":"LOCAL_NODE"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"continue"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1},"11111111-1111-1111-1111-000000000001":{"instance_id":"11111111-1111-1111-1111-000000000001","class_id":"com-snaplogic-snaps-flow-router","property_map":{"info":{"notes":{},"label":{"value":"Router"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"routes":{"value":[{"expression":{"expression":true,"value":"true"},"outputViewName":{"value":"output0"}},{"expression":{"expression":true,"value":"_error_dir == \"true\""},"outputViewName":{"value":"output1"}}]},"execution_mode":{"value":"Validate & Execute"},"firstMatch":{"value":false}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}},"output1":{"view_type":{"value":"document"},"label":{"value":"output1"}}}},"class_version":2},"11111111-1111-1111-1111-000000000006":{"class_id":"com-snaplogic-snaps-flow-union","instance_id":"11111111-1111-1111-1111-000000000006","property_map":{"info":{"label":{"value":"Union"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}},"input1":{"label":{"value":"input1"},"view_type":{"value":"document"}}},"settings":{"execution_mode":{"value":"Validate & Execute"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":2},"11111111-1111-1111-1111-000000000003":{"instance_id":"11111111-1111-1111-1111-000000000003","class_id":"com-snaplogic-snaps-transform-datatransform","property_map":{"info":{"notes":{},"label":{"value":"Take required data"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$smbAccount"},"expression":{"expression":true,"value":"$Common.Reece.SmbAccount"}},{"targetPath":{"value":"$smbProcessedDir"},"expression":{"expression":true,"value":"$Common.Reece.BaseSmbPath+$Integration.proccesedSubPath.split('/')[0]+'/error'"}},{"targetPath":{"value":"$retentionWindow"},"expression":{"expression":true,"value":"parseInt($Integration.retentionWindow)"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4},"11111111-1111-1111-1111-000000000002":{"instance_id":"11111111-1111-1111-1111-000000000002","class_id":"com-snaplogic-snaps-transform-datatransform","property_map":{"info":{"notes":{},"label":{"value":"Take required data"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$smbAccount"},"expression":{"expression":true,"value":"$Common.Reece.SmbAccount"}},{"targetPath":{"value":"$smbProcessedDir"},"expression":{"expression":true,"value":"$Common.Reece.BaseSmbPath+$Integration.proccesedSubPath"}},{"targetPath":{"value":"$retentionWindow"},"expression":{"expression":true,"value":"parseInt($Integration.retentionWindow)"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4},"11111111-1111-1111-1111-000000000008":{"instance_id":"11111111-1111-1111-1111-000000000008","class_id":"com-snaplogic-snaps-flow-pipeexec","property_map":{"info":{"notes":{"value":null},"label":{"value":"Invoke Error Handler"}},"view_serial":100,"settings":{"retryInterval":{"expression":false,"value":null},"retryLimit":{"expression":false,"value":null},"pipeline":{"expression":false,"value":"../../shared/Error Handler New"},"reuse":{"value":true},"poolSize":{"expression":false,"value":1},"executable_during_suggest":{"value":true},"loopDocument":{"expression":true},"execution_mode":{"value":"Execute only"},"params":{"value":[]},"execLabel":{"expression":true,"value":null},"timeout":{"expression":false,"value":null},"snaplex":{"expression":false,"value":null},"snaplexGovernor":{"value":"LOCAL_NODE"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}}},"class_version":1},"11111111-1111-1111-1111-000000000007":{"instance_id":"11111111-1111-1111-1111-000000000007","class_id":"com-snaplogic-snaps-transform-datatransform","property_map":{"info":{"notes":{"value":null},"label":{"value":"Map Error Data"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$ErrorUUID || pipe.projectPath + \"/\" + pipe.label + \"/\" + pipe.instanceId"},"targetPath":{"value":"$ErrorUUID"}},{"expression":{"expression":true,"value":"$ErrorDateTime || Date.now().toString()"},"targetPath":{"value":"$ErrorDateTime"}},{"expression":{"expression":false,"value":"ERR"},"targetPath":{"value":"$Severity"}},{"expression":{"expression":false,"value":"Finance-Integration"},"targetPath":{"value":"$SourceUUID"}},{"expression":{"expression":false,"value":"1"},"targetPath":{"value":"$ErrorCode"}},{"expression":{"expression":true,"value":"$ShortDesc || \"ERR: Error in SnapLogic pipeline \" + pipe.projectPath + \"/\" + pipe.label"},"targetPath":{"value":"$ShortDesc"}},{"expression":{"expression":true,"value":"$LongDesc || \"<b>Pipeline Name: </b>\"  + pipe.projectPath + \"/\" + pipe.label +  \"<br><br><b>Start Time: </b>\" + pipe.startTime.toString() + \"<br><br><b>Instance: </b>\"+ pipe.instanceId + \"<br><br><b>Reason: </b>\" + $reason + \"<br><br><b>Error: </b>\" + $error + \"<br><br><b>Resolution: </b>\" + $resolution  + \"<br><br><b>Payload: </b>\" + $original + \"<br><br><b>Stacktrace: </b>\" + $stacktrace"},"targetPath":{"value":"$LongDesc"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":4},"11111111-1111-1111-1111-000000000000":{"class_id":"com-snaplogic-snaps-flow-pipeexec","instance_id":"11111111-1111-1111-1111-000000000000","property_map":{"info":{"notes":{"value":null},"label":{"value":"Get Parameters"}},"view_serial":100,"input":{},"settings":{"retryInterval":{"expression":false,"value":null},"retryLimit":{"expression":false,"value":null},"pipeline":{"expression":true,"value":"'../Common/z_get_Finance_Params'"},"reuse":{"value":false},"batchSize":{"value":1},"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":true},"poolSize":{"expression":false,"value":1},"loopDocument":{"expression":true},"execLabel":{"expression":true,"value":null},"params":{"value":[{"paramValue":{"expression":true,"value":"_parameter"},"paramName":{"value":"IntegrationParamSet"}}]},"timeout":{"expression":false,"value":null},"snaplex":{"expression":false,"value":null},"snaplexGovernor":{"value":"LOCAL_NODE"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"Parameters"}}}},"class_version":1}},"link_map":{"link124":{"src_view_id":"output1","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000001","dst_id":"11111111-1111-1111-1111-000000000003"},"link125":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000003","dst_id":"11111111-1111-1111-1111-000000000005"},"link126":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000006","dst_id":"11111111-1111-1111-1111-000000000007"},"link127":{"src_view_id":"error0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000004","dst_id":"11111111-1111-1111-1111-000000000006"},"link120":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000002","dst_id":"11111111-1111-1111-1111-000000000004"},"link114":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000007","dst_id":"11111111-1111-1111-1111-000000000008"},"link122":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000001","dst_id":"11111111-1111-1111-1111-000000000002"},"link123":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000000","dst_id":"11111111-1111-1111-1111-000000000001"},"link128":{"src_view_id":"error0","dst_view_id":"input1","src_id":"11111111-1111-1111-1111-000000000005","dst_id":"11111111-1111-1111-1111-000000000006"}},"target_runtime":"standard"}