{"asset_type":"Pipeline","path":"/Reece-Dev/-Finance/Common/z_get_Finance_Params","name":"z_get_Finance_Params","owner":"snaplogic.support@reece.com.au","time_updated":"2025-01-14T13:25:22.177000","class_version":9,"snap_map":{"11111111-1111-1111-1111-000000000002":{"instance_id":"11111111-1111-1111-1111-000000000002","class_id":"com-snaplogic-snaps-rest-get","property_map":{"info":{"notes":{"value":null},"label":{"value":"Get Pipeline Parameters"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{}}},"input":{"input101":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"retryInterval":{"value":3},"trustAllCerts":{"value":false},"execution_mode":{"value":"Validate & Execute"},"retry":{"value":5},"hasNext":{"expression":true,"value":null},"timeout":{"value":900},"processArray":{"value":false},"nextUrl":{"expression":true,"value":null},"showAllHeaders":{"value":false},"paginationInterval":{"value":0},"executeDuringPreview":{"value":true},"retryPolicy":{"value":"Connection errors"},"header":{"value":[{"headerKey":{"expression":false,"value":"x-api-key"},"headerValue":{"expression":true,"value":"$APIKey"}}]},"responseEntityType":{"value":"DEFAULT"},"followRedirects":{"value":true},"serviceUrl":{"expression":true,"value":"$parameterURL"},"connTimeout":{"value":30},"queryParams":{"value":[{"queryParamValue":{"expression":true,"value":"$splitValue"},"queryParam":{"value":"ParameterSet"}},{"queryParamValue":{"expression":true,"value":"pipe.plexPath.substring(1,pipe.plexPath.indexOf(\"/\",1))"},"queryParam":{"value":"Organisation"}}]},"rawData":{"value":false}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":2},"11111111-1111-1111-1111-000000000004":{"instance_id":"11111111-1111-1111-1111-000000000004","class_id":"com-snaplogic-snaps-transform-datatransform","property_map":{"info":{"notes":{"value":null},"label":{"value":"Clean Response"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"($group.length == 2 ? {}.merge($group.map((a,b) => a['entity'])[0], $group.map((a,b) => {'Integration' : a['entity']})[1]) : $group.map((a,b) => a['entity'])[0]).filter((v,k) => 'Integration,Common,'.concat(_Country).split(',').indexOf(k) != -1).mapKeys((v,k) => k == _Country ? 'Properties' : k )"},"targetPath":{"value":"$"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4},"11111111-1111-1111-1111-000000000000":{"instance_id":"11111111-1111-1111-1111-000000000000","class_id":"com-snaplogic-snaps-transform-datatransform","property_map":{"info":{"notes":{"value":null},"label":{"value":"Set AWS Endpoint"}},"view_serial":100,"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"pipe.plexPath.substring(1,pipe.plexPath.indexOf(\"/\",1)).contains(\"Prod\") ? \"https://bnjq3apos9.execute-api.ap-southeast-2.amazonaws.com/Production/Snaplogic-PipelineParameter\" : \"https://53ivw4wlzc.execute-api.ap-southeast-2.amazonaws.com/Non-Production/Snaplogic-PipelineParameter\""},"targetPath":{"value":"$parameterURL"}},{"expression":{"expression":true,"value":"pipe.plexPath.substring(1,pipe.plexPath.indexOf(\"/\",1)).contains(\"Prod\") ? \"5Cr1B6imM41xJnt3yhbUW5qaKwU5Exl5PAWXvi5h\" : \"8FCfhvKj351qb80WJVDHG7NyPGD7lB4P3g8Ei9II\""},"targetPath":{"value":"$APIKey"}},{"expression":{"expression":true,"value":"('Finance-Global-Params,' + (_IntegrationParamSet || '')).split(',').filter((x,y,z) => x.trim().length > 0)"},"targetPath":{"value":"$paramSets"}}]},"mappingRoot":{"value":"$"}}}}},"class_version":4},"11111111-1111-1111-1111-000000000003":{"instance_id":"11111111-1111-1111-1111-000000000003","class_id":"com-snaplogic-snaps-transform-groupbyfields","property_map":{"info":{"notes":{"value":null},"label":{"value":"Join Responses"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"fields":{"value":[{"field":{"value":"$original.APIKey"}}]},"execution_mode":{"value":"Validate & Execute"},"targetField":{"value":"group"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1},"11111111-1111-1111-1111-000000000001":{"instance_id":"11111111-1111-1111-1111-000000000001","class_id":"com-snaplogic-snaps-transform-jsonsplitter","property_map":{"info":{"notes":{"value":null},"label":{"value":"Parameter Sets"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":false},"includeParents":{"value":false},"execution_mode":{"value":"Validate & Execute"},"includePaths":{"value":[{"includePath":{"value":"$parameterURL"}},{"includePath":{"value":"$APIKey"}}]},"path":{"value":"$paramSets"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_version":1}},"property_map":{"info":{"notes":{"value":null},"author":{"value":"mike.mandal@clinkitsolutions.com"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{}},"error":{"error_behavior":{"value":"none"}},"settings":{"imports":{"value":[]},"error_param_table":{"value":[]},"error_pipeline":{"expression":false,"value":null},"param_table":{"value":[{"capture":{"value":true},"key":{"value":"Country"},"value":{"value":null},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":true},"key":{"value":"IntegrationParamSet"},"value":{"value":"Finance-AP-Invoice-Scanning"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}}]}},"input":{},"output":{"11111111-1111-1111-1111-000000000004_output0":{"label":{"value":"Clean Response - output0"},"view_type":{"value":"document"}}}},"render_map":{"pan_x_num":0,"default_snaplex":null,"scale_ratio":1,"detail_map":{"11111111-1111-1111-1111-000000000000":{"grid_x_int":1,"index":null,"recommendation_id":null,"source":"","grid_y_int":1,"rot_tail_int":0,"output":{},"rot_int":0,"input":{},"error":{}},"11111111-1111-1111-1111-000000000004":{"grid_x_int":5,"index":null,"recommendation_id":null,"source":"","grid_y_int":1,"rot_tail_int":0,"output":{},"input":{},"rot_int":0,"error":{}},"11111111-1111-1111-1111-000000000002":{"grid_x_int":3,"index":null,"recommendation_id":null,"source":"","grid_y_int":1,"rot_tail_int":0,"output":{},"input":{},"rot_int":0,"error":{}},"11111111-1111-1111-1111-000000000003":{"grid_x_int":4,"index":null,"recommendation_id":null,"source":"","grid_y_int":1,"rot_tail_int":0,"output":{},"input":{},"rot_int":0,"error":{}},"11111111-1111-1111-1111-000000000001":{"grid_x_int":2,"index":null,"recommendation_id":null,"source":"","grid_y_int":1,"rot_tail_int":0,"output":{},"input":{},"rot_int":0,"error":{}}},"pan_y_num":0},"class_id":"com-snaplogic-pipeline","link_map":{"link129":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000002","dst_id":"11111111-1111-1111-1111-000000000003"},"link132":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000003","dst_id":"11111111-1111-1111-1111-000000000004"},"link131":{"src_view_id":"output0","dst_view_id":"input0","src_id":"11111111-1111-1111-1111-000000000000","dst_id":"11111111-1111-1111-1111-000000000001"},"link130":{"src_view_id":"output0","dst_view_id":"input101","src_id":"11111111-1111-1111-1111-000000000001","dst_id":"11111111-1111-1111-1111-000000000002"}},"target_runtime":"standard"}